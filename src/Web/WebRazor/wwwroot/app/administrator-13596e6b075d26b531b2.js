(()=>{"use strict";var e,t={96776:(e,t,n)=>{n(45554);var r=n(68205),a=n(54390),i=(n(77588),n(12076),n(97723),n(11646),n(74713));const s={props:{},components:{},data:function(){return{enums:{orderStatus:{requested:1,placed:2,accepted:3,processed:4,delivered:5,completed:6,cancelled:7},salutations:{mr:1,mrs:2,ms:3}},messageIds:[]}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.uid;case 2:case"end":return t.stop()}}),t)})))()},methods:{getBottomNavHeight:function(){var e=this.$refs.bottomNav;if(e){var t=e.$el.clientHeight;t>0&&(this.bottomNavHeightStyle="padding-bottom:".concat(t+10,"px;"))}},scrollIntoView:function(){var e=document.getElementById("top");e&&e.scrollIntoView({behavior:"smooth"})},showHiddenElements:function(){if(this.$el.getElementsByClassName)for(var e=this.$el.getElementsByClassName("initialHidden"),t=0;t<e.length;t++){var n=e[t];n.classList.remove("invisible"),n.classList.remove("d-none")}},close:function(){var e=document.referrer;e&&e.includes("/account/Login")?history.go(-2):history.back()},connectNotificationHub:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,(r=(new i.s).withUrl("/notificationHub").withAutomaticReconnect().build()).on("received",(function(e){var t=e.content||"-no reason specified-",r=n.$createElement,a=[r("span",t),r("p")];e.refLink&&a.push(r("a",{attrs:{href:e.refLink}},"Click here to View."));var i=r("div",a),s=window.location.pathname.includes(e.itemId);(!s||s&&"Post:Comment"!==e.itemEvent)&&n.$bvToast.toast([i],{title:"".concat(e.subject),variant:"info",solid:!0}),n.$bus.$emit("event:notification-received",e)})),r.on("jobUpdated",(function(e){n.$bus.$emit("event:job-updated",e)})),t.next=6,r.start().then((function(){})).catch((function(e){}));case 6:case"end":return t.stop()}}),t)})))()},connectChatHub:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,(r=(new i.s).withUrl("/chatHub").withAutomaticReconnect().build()).on("chatMessageReceived",(function(e){if(n.uid!==e.sender.userId&&(null===n.currentOpenChatId||n.currentOpenChatId!==e.chatId)){var t=e.sender,r=n.$createElement,a=r("div",[r("span","You received a message from ".concat(t.firstName," ").concat(t.lastName)),r("br"),r("br"),r("a",{attrs:{style:"cursor:pointer"},on:{click:function(){return n.$bus.sendMessage(t.userId)}}},"Click here to open.")]);n.$bvToast.toast([a],{title:"New Message",solid:!0,variant:"info"})}n.$bus.$emit("event:chat-message-received",e)})),t.next=5,r.start().then((function(){})).catch((function(e){alert(e)}));case 5:case"end":return t.stop()}}),t)})))()},onSendMessage:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=t).uid!==e){n.next=4;break}return r.$bvToast.toast("Are you sure?",{title:"Talking to yourself?",variant:"warning"}),n.abrupt("return");case 4:if(e){n.next=7;break}return r.$bvToast.toast("Account was not found.",{title:"Account Not Found",variant:"warning"}),n.abrupt("return");case 7:return n.prev=7,n.next=10,r.$util.axios.post("/api/chat/add/".concat(e)).then(function(){var e=(0,a.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.onOpenChat(t.data);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(7),r.$util.handleError(n.t0);case 15:case"end":return n.stop()}}),n,null,[[7,12]])})))()},onSendTeamMessage:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t,n.prev=1,n.next=4,r.onOpenChat(e);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),r.$util.handleError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},onOpenChat:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(r=t).currentOpenChatId=e,r.$refs.modalViewChat.open(e);case 3:case"end":return n.stop()}}),n)})))()},onCloseChat:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e).currentOpenChatId=null,n.$refs.modalViewChat.close();case 3:case"end":return t.stop()}}),t)})))()}}};var o={class:"navbar navbar-expand-lg fixed-top navbar-dark bg-success","aria-label":"Main navigation"},l={class:"container-fluid"},c={class:"navbar-brand",href:"/"},u=(0,r._)("button",{class:"navbar-toggler p-0 border-0",type:"button",id:"navbarSideCollapse","aria-label":"Toggle navigation"},[(0,r._)("span",{class:"navbar-toggler-icon"})],-1),d={class:"navbar-collapse offcanvas-collapse mb-2 mb-lg-0",id:"navbarsExampleDefault"},m=(0,r.uE)('<ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="/administrator"><i class="fas fa-dashboard me-2" aria-hidden="true"></i>Dashboard </a></li><li class="nav-item"><a class="nav-link" href="/administrator/billings"><i class="fa-solid fa-money-bill me-2" aria-hidden="true"></i>Billings </a></li><li class="nav-item"><a class="nav-link" href="/administrator/announcements"><i class="fa-solid fa-bullhorn me-2" aria-hidden="true"></i>Announcements </a></li><li class="nav-item"><a class="nav-link" href="/administrator/reservations"><i class="fa-solid fa-calendar-check me-2" aria-hidden="true"></i>Reservations </a></li><li class="nav-item"><a class="nav-link" href="/administrator/notifications"><i class="fa-solid fa-bell me-2" aria-hidden="true"></i>Notifications </a></li></ul>',1),f={class:"navbar-nav ms-auto"},p={class:"nav-item dropdown"},v=(0,r._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"dropdown01","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,r._)("i",{class:"fas fa-user me-2","aria-hidden":"true"}),(0,r.Uk)("My Account ")],-1),g={class:"dropdown-menu","aria-labelledby":"dropdown01"};const b={mixins:[n(20136).Z],props:{uid:String,appName:{type:String,required:!0,default:"LMS"},urlProfilePicture:String,menus:Array},components:{},mounted:function(){return(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.querySelector("#navbarSideCollapse").addEventListener("click",(function(){document.querySelector(".offcanvas-collapse").classList.toggle("open")}));case 1:case"end":return e.stop()}}),e)})))()}};var h=n(46021);const w=(0,h.Z)(b,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("nav",o,[(0,r._)("div",l,[(0,r._)("a",c,(0,r.zw)(n.appName),1),u,(0,r._)("div",d,[m,(0,r._)("ul",f,[(0,r._)("li",p,[v,(0,r._)("ul",g,[(0,r._)("li",null,[(0,r._)("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=(0,r.iM)((function(){return e.logout&&e.logout.apply(e,arguments)}),["prevent"]))},"Logout")])])])])])])])}]]);var y={class:"row"},_=(0,r._)("div",{class:"col"},[(0,r._)("h3",null,"Dashboard")],-1),k={class:"col-auto"},x=[(0,r._)("i",{class:"oi oi-reload"},null,-1),(0,r.Uk)(" Refresh ")],R={class:"row"},D={class:"col-md mb-2 mb-md-0"},S={class:"card card-primary"},q=(0,r._)("div",{class:"card-header"}," Announcements ",-1),I={class:"card-body"},Z={class:"col-md mb-2 mb-md-0"},V={class:"card card-primary"},U=(0,r._)("div",{class:"card-header"}," Notifications ",-1),z={class:"card-body"},C=(0,r._)("br",null,null,-1),A=(0,r._)("h5",null,"Reservations",-1),M={class:"row"},$={class:"col-md mb-2 mb-md-0"},N={class:"card card-primary"},E=(0,r._)("div",{class:"card-header"}," Today ",-1),B={class:"card-body"},j={class:"col-md mb-2 mb-md-0"},F={class:"card card-primary"},P=(0,r._)("div",{class:"card-header"}," Tomorrow ",-1),O={class:"card-body"},T={class:"col-md mb-2 mb-md-0"},Y={class:"card card-primary"},H=(0,r._)("div",{class:"card-header"}," This Week ",-1),W={class:"card-body"},L=(0,r._)("br",null,null,-1),J=(0,r._)("h5",null,"Billing",-1),K={class:"row"},Q={class:"col-md mb-2 mb-md-0"},G={class:"card card-primary"},X=(0,r._)("div",{class:"card-header"}," Over Due ",-1),ee={class:"card-body"},te={class:"col-md mb-2 mb-md-0"},ne={class:"card card-primary"},re=(0,r._)("div",{class:"card-header"}," Today ",-1),ae={class:"card-body"},ie={class:"col-md mb-2 mb-md-0"},se={class:"card card-primary"},oe=(0,r._)("div",{class:"card-header"}," Tomorrow ",-1),le={class:"card-body"},ce={class:"col-md mb-2 mb-md-0"},ue={class:"card card-primary"},de=(0,r._)("div",{class:"card-header"}," This Week ",-1),me={class:"card-body"};var fe=n(15500);const pe={mixins:[fe.Z],props:{uid:String},data:function(){return{message:null,text:null,item:{}}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,n.get();case 3:case"end":return t.stop()}}),t)})))()},methods:{greet:function(){this.message="Hello "+this.text},get:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.prev=1,t.next=4,n.$util.axios.get("/api/dashboard/administrators").then((function(e){return n.item=e.data}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n.$util.handleError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}},ve=(0,h.Z)(pe,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",y,[_,(0,r._)("div",k,[(0,r._)("button",{class:"btn btn-secondary",onClick:t[0]||(t[0]=function(){return s.get&&s.get.apply(s,arguments)})},x)])]),(0,r._)("div",R,[(0,r._)("div",D,[(0,r._)("div",S,[q,(0,r._)("div",I,(0,r.zw)(i.item.announcements),1)])]),(0,r._)("div",Z,[(0,r._)("div",V,[U,(0,r._)("div",z,(0,r.zw)(i.item.notifications),1)])])]),C,A,(0,r._)("div",M,[(0,r._)("div",$,[(0,r._)("div",N,[E,(0,r._)("div",B,(0,r.zw)(i.item.todayReservations),1)])]),(0,r._)("div",j,[(0,r._)("div",F,[P,(0,r._)("div",O,(0,r.zw)(i.item.tomorrowReservations),1)])]),(0,r._)("div",T,[(0,r._)("div",Y,[H,(0,r._)("div",W,(0,r.zw)(i.item.weekReservations),1)])])]),L,J,(0,r._)("div",K,[(0,r._)("div",Q,[(0,r._)("div",G,[X,(0,r._)("div",ee,(0,r.zw)(i.item.pastDueDateBillings),1)])]),(0,r._)("div",te,[(0,r._)("div",ne,[re,(0,r._)("div",ae,(0,r.zw)(i.item.todayDueDateBillings),1)])]),(0,r._)("div",ie,[(0,r._)("div",se,[oe,(0,r._)("div",le,(0,r.zw)(i.item.tomorrowDueDateBillings),1)])]),(0,r._)("div",ce,[(0,r._)("div",ue,[de,(0,r._)("div",me,(0,r.zw)(i.item.weekDueDateBillings),1)])])])])}]]);var ge={class:"row align-items-center"},be=(0,r._)("div",{class:"col-sm"},[(0,r._)("h1",{class:"h3 mb-sm-0"},[(0,r._)("i",{class:"fas fa-fw fa-money-bill me-1"}),(0,r.Uk)("Add Billings ")])],-1),he={class:"col-sm-auto"},we={class:"d-flex flex-row"},ye=["disabled"],_e=[(0,r._)("span",{class:"fas fa-fw fa-save"},null,-1)],ke=[(0,r._)("i",{class:"fas fa-fw fa-times"},null,-1)],xe={class:"mt-2"},Re={class:"card shadow-sm"},De=(0,r._)("div",{class:"card-header bg-info text-white"},null,-1),Se={class:"card-body"},qe={class:"needs-validation",novalidate:""},Ie={class:"row"},Ze={class:"col-sm-6"},Ve={class:"form-floating mb-3"},Ue=(0,r._)("label",{for:"subject"},"Subject",-1),ze={key:0,class:"d-block invalid-feedback"},Ce={class:"form-floating mb-3"},Ae=(0,r._)("label",{for:"content"},"Content",-1),Me={key:0,class:"d-block invalid-feedback"},$e={class:"form-floating mb-3"},Ne=(0,r._)("label",{for:"datePost"},"Post Date",-1),Ee={key:0,class:"d-block invalid-feedback"};n(14327),n(56394),n(92129),n(24655),n(60151);const Be={mixins:[fe.Z],props:{uid:{type:String,required:!0},urlView:{type:String,required:!0}},data:function(){return{isDirty:!1,validations:new Map,lookups:{},item:{subject:"",content:"",datePost:this.$moment().format("YYYY-MM-DD")}}},computed:{formIsValid:function(){var e=this,t=e.item,n=new Map;return t.subject||n.set("subject","Subject is required."),t.content||n.set("content","Content is required."),t.datePost||n.set("datePost","Post Date is required."),e.isDirty=!0,e.validations=n,0==n.size}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.formIsValid;case 2:case"end":return t.stop()}}),t)})))()},methods:{getValidClass:function(e){return this.isDirty?this.validations.has(e)?"is-invalid":"is-valid":""},save:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e).busy){t.next=3;break}return t.abrupt("return");case 3:if(n.formIsValid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,n.busy=!0,r=n.$util.clone(n.item),t.next=10,n.$util.axios.post("/api/announcement/add/",r).then((function(e){alert("New Announcement Created."),setTimeout((function(){var t="".concat(n.urlView,"/").concat(e.data);n.$util.href(t)}),500)}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),n.$util.handleError(t.t0);case 15:return t.prev=15,n.busy=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[5,12,15,18]])})))()}}},je=(0,h.Z)(Be,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",ge,[be,(0,r._)("div",he,[(0,r._)("div",we,[(0,r._)("button",{disabled:i.isDirty&&!s.formIsValid,onClick:t[0]||(t[0]=function(){return s.save&&s.save.apply(s,arguments)}),class:"btn btn-primary"},_e,8,ye),(0,r._)("button",{onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)}),class:"ms-1 btn btn-secondary"},ke)])])]),(0,r._)("div",xe,[(0,r._)("div",Re,[De,(0,r._)("div",Se,[(0,r._)("form",qe,[(0,r._)("div",Ie,[(0,r._)("div",Ze,[(0,r._)("div",Ve,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.item.subject=e}),type:"text",class:"form-control",id:"subject",placeholder:"Subject"},null,512),[[r.nr,i.item.subject]]),Ue,i.validations.has("subject")?((0,r.wg)(),(0,r.iD)("div",ze,(0,r.zw)(i.validations.get("subject")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Ce,[(0,r.wy)((0,r._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.item.content=e}),style:{height:"100px"},class:"form-control",id:"content",placeholder:"Content"},null,512),[[r.nr,i.item.content]]),Ae,i.validations.has("content")?((0,r.wg)(),(0,r.iD)("div",Me,(0,r.zw)(i.validations.get("content")),1)):(0,r.kq)("",!0)]),(0,r._)("div",$e,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.item.datePost=e}),type:"date",class:"form-control",id:"datePost",placeholder:"Post Date"},null,512),[[r.nr,i.item.datePost]]),Ne,i.validations.has("datePost")?((0,r.wg)(),(0,r.iD)("div",Ee,(0,r.zw)(i.validations.get("datePost")),1)):(0,r.kq)("",!0)])])])])])])])])}]]);const Fe={mixins:[fe.Z],props:{uid:String},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},Pe=(0,h.Z)(Fe,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div")}]]);n(38833),n(62322),n(79006);var Oe={class:"row align-items-center"},Te=(0,r._)("div",{class:"col-sm"},[(0,r._)("h1",{class:"h3 mb-sm-0"},[(0,r._)("i",{class:"fa-solid fa-fw fa-bullhorn me-1"}),(0,r.Uk)("Announcements ")])],-1),Ye={class:"col-sm-auto"},He={class:"d-flex flex-row"},We={class:""},Le=["href"],Je=[(0,r._)("i",{class:"fas fa-plus me-1"},null,-1),(0,r.Uk)("Add ")],Ke={class:"flex-grow-1 ms-1"},Qe={class:"input-group"},Ge=[(0,r._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1)],Xe={class:"mt-2 table-responsive"},et=(0,r._)("th",{class:"text-center"},"#",-1),tt=(0,r._)("th",null,"Post Date",-1),nt=(0,r._)("th",null,"Subject",-1),rt=["textContent"],at=["href"],it={class:"row mb-3"},st=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Subject",-1),ot={class:"col-sm-10"},lt={class:"form-control-plaintext"},ct=["href"],ut={class:"row mb-3"},dt=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Date",-1),mt={class:"col-sm-10"},ft={class:"form-control-plaintext"};n(46549),n(67441),n(84415);var pt=n(87124);const vt={mixins:[pt.Z],props:{uid:String,urlAdd:{type:String,required:!0},urlView:{type:String,required:!0}},components:{},data:function(){return{baseUrl:"/api/announcement",lookups:{},filter:{items:[],cacheKey:"filter-".concat(this.uid,"/announcements"),query:{}}}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=e).filter,new URLSearchParams(window.location.search),a=JSON.parse(localStorage.getItem(r.cacheKey))||{},n.initializeFilter(a),t.next=7,n.search();case 7:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{getQuery:function(){var e=this.filter;if(!this.busy)return["?c=",encodeURIComponent(e.query.criteria),"&p=",e.query.pageIndex,"&s=",e.query.pageSize,"&sf=",e.query.sortField,"&so=",e.query.sortOrder].join("")},saveQuery:function(){var e=this.filter;localStorage.setItem(e.cacheKey,JSON.stringify({criteria:e.query.criteria,pageIndex:e.query.pageIndex,pageSize:e.query.pageSize,sortField:e.query.sortField,sortOrder:e.query.sortOrder,visible:e.visible}))},getTaskTdCss:function(e){switch(e.taskStatus){case 1:return"table-warning";case 2:return"table-info";case 3:return"table-success";default:return""}}}},gt=(0,h.Z)(vt,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("table-list"),l=(0,r.up)("m-pagination");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",Oe,[Te,(0,r._)("div",Ye,[(0,r._)("div",He,[(0,r._)("div",We,[(0,r._)("a",{href:n.urlAdd,class:"btn btn-primary"},Je,8,Le)]),(0,r._)("div",Ke,[(0,r._)("div",Qe,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Enter criteria...","aria-label":"Enter criteria...","aria-describedby":"button-addon2","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.filter.query.criteria=e}),onKeyup:t[1]||(t[1]=(0,r.D2)((function(t){return e.search(1)}),["enter"]))},null,544),[[r.nr,i.filter.query.criteria]]),(0,r._)("button",{class:"btn btn-primary",type:"button",id:"button-addon2",onClick:t[2]||(t[2]=function(t){return e.search(1)})},Ge)])])])])]),(0,r._)("div",Xe,[(0,r.Wm)(o,{header:{key:"announcementId",columns:[]},items:i.filter.items,getRowNumber:e.getRowNumber,setSelected:e.setSelected,isSelected:e.isSelected,"table-css":""},{header:(0,r.w5)((function(){return[et,tt,nt]})),"table-row":(0,r.w5)((function(t){return[(0,r._)("td",{textContent:(0,r.zw)(e.getRowNumber(t.index)),class:"text-center"},null,8,rt),(0,r._)("td",null,[(0,r._)("a",{href:"".concat(n.urlView,"/").concat(t.item.announcementId)},(0,r.zw)(t.item.subject),9,at)]),(0,r._)("td",null,(0,r.zw)(e.$moment(t.item.dateCreated).calendar()),1)]})),"table-list":(0,r.w5)((function(t){return[(0,r._)("div",null,[(0,r._)("div",it,[st,(0,r._)("div",ot,[(0,r._)("div",lt,[(0,r._)("a",{href:"".concat(n.urlView,"/").concat(t.item.announcementId)},(0,r.zw)(t.item.subject),9,ct)])])]),(0,r._)("div",ut,[dt,(0,r._)("div",mt,[(0,r._)("div",ft,(0,r.zw)(e.$moment(t.item.dateCreated).calendar()),1)])])])]})),_:1},8,["items","getRowNumber","setSelected","isSelected"])]),(0,r.Wm)(l,{filter:i.filter,search:e.search,showPerPage:!0,class:"mt-2"},null,8,["filter","search"])])}]]);var bt=n(22624);const ht={props:{uid:{type:String,required:!0},id:{type:String,required:!0},roleId:{type:String,required:!0},urlEdit:{type:String,required:!0}},components:{announcementsView:bt.Z},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},wt=(0,h.Z)(ht,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("announcements-view");return(0,r.wg)(),(0,r.j4)(o,{uid:n.uid,id:n.id,roleId:n.roleId,urlEdit:n.urlEdit},null,8,["uid","id","roleId","urlEdit"])}]]);n(54458);var yt={class:"row align-items-center"},_t=(0,r._)("div",{class:"col-sm"},[(0,r._)("h1",{class:"h3 mb-sm-0"},[(0,r._)("i",{class:"fas fa-fw fa-money-bill me-1"}),(0,r.Uk)("Add Billings ")])],-1),kt={class:"col-sm-auto"},xt={class:"d-flex flex-row"},Rt=["disabled"],Dt=[(0,r._)("span",{class:"fas fa-fw fa-save"},null,-1)],St=[(0,r._)("i",{class:"fas fa-fw fa-times"},null,-1)],qt={class:"mt-2"},It={class:"card shadow-sm"},Zt=(0,r._)("div",{class:"card-header bg-info text-white"},null,-1),Vt={class:"card-body"},Ut={class:"needs-validation",novalidate:""},zt={class:"row"},Ct={class:"col-sm-6"},At={class:"form-floating mb-3"},Mt=(0,r._)("option",{value:""},"- Select Account -",-1),$t=["value"],Nt=(0,r._)("label",{for:"accountId"},"Account",-1),Et={key:0,class:"d-block invalid-feedback"},Bt={class:"form-floating mb-3"},jt=(0,r._)("label",{for:"amount"},"Amount",-1),Ft={key:0,class:"d-block invalid-feedback"},Pt={class:"form-floating mb-3"},Ot=(0,r._)("label",{for:"number"},"Billing Number",-1),Tt={key:0,class:"d-block invalid-feedback"},Yt={class:"form-floating mb-3"},Ht=[(0,r.uE)('<option value="">- Select Year -</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option>',5)],Wt=(0,r._)("label",{for:"year"},"Year",-1),Lt={key:0,class:"d-block invalid-feedback"},Jt={class:"form-floating mb-3"},Kt=[(0,r.uE)('<option value="">- Select Month -</option><option value="January">January</option><option value="February">February</option><option value="March">March</option><option value="April">April</option><option value="May">May</option><option value="June">June</option><option value="July">July</option><option value="August">August</option><option value="September">September</option><option value="October">October</option><option value="November">November</option><option value="December">December</option>',13)],Qt=(0,r._)("label",{for:"month"},"Month",-1),Gt={key:0,class:"d-block invalid-feedback"},Xt={class:"form-floating mb-3"},en=(0,r._)("label",{for:"readingDate"},"Reading Date",-1),tn={key:0,class:"d-block invalid-feedback"},nn={class:"form-floating mb-3"},rn=(0,r._)("label",{for:"dateDue"},"Due Date",-1),an={key:0,class:"d-block invalid-feedback"},sn={class:"col-sm-6"},on={class:"form-floating mb-3"},ln=(0,r._)("label",{for:"dateStart"},"Billing Start",-1),cn={key:0,class:"d-block invalid-feedback"},un={class:"form-floating mb-3"},dn=(0,r._)("label",{for:"dateEnd"},"Billing End",-1),mn={key:0,class:"d-block invalid-feedback"},fn={class:"form-floating mb-3"},pn=(0,r._)("label",{for:"presentReading"},"Present Reading",-1),vn={key:0,class:"d-block invalid-feedback"},gn=(0,r._)("option",{disabled:"",value:""},"Please select one",-1),bn=["value"],hn={class:"form-floating mb-3"},wn=(0,r._)("label",{for:"previousReading"},"Previous Reading",-1),yn={key:0,class:"d-block invalid-feedback"},_n={class:"form-floating mb-3"},kn=(0,r._)("label",{for:"multiplier"},"Multiplier",-1),xn={key:0,class:"d-block invalid-feedback"},Rn={class:"form-floating mb-3"},Dn=(0,r._)("label",{for:"killoWattHourUsed"},"kWH Used",-1),Sn={key:0,class:"d-block invalid-feedback"},qn={class:"form-floating mb-3"},In=(0,r._)("label",{for:"reader"},"Meter Read By",-1),Zn={key:0,class:"d-block invalid-feedback"};const Vn={mixins:[fe.Z],props:{uid:{type:String,required:!0},urlView:{type:String,required:!0}},data:function(){return{isDirty:!1,validations:new Map,lookups:{accounts:[],salutations:[{value:1,text:"Mr"},{value:2,text:"Mrs"},{value:3,text:"Ms"}]},item:{accountId:"",amount:1,number:"",month:"",year:"",readingDate:this.$moment().format("YYYY-MM-DD"),dateStart:this.$moment().format("YYYY-MM-DD"),dateEnd:this.$moment().format("YYYY-MM-DD"),presentReading:null,previousReading:null,multiplier:null,killoWattHourUsed:null,dateDue:null,reader:null},read:{previousRead:null,meterReadings:null}}},computed:{formIsValid:function(){var e=this,t=e.item,n=new Map;return t.accountId||n.set("accountId","Account is required."),t.amount||n.set("amount","Billing Amount is required."),t.amount<0&&n.set("amount","Billing Amount is incorrect."),t.number||n.set("number","Billing Number is required."),t.month||n.set("month","Month is required."),t.year||n.set("year","Year is required."),t.readingDate||n.set("readingDate","Date Reading is required."),t.dateDue||n.set("dateDue","Date Due is required."),t.presentReading||n.set("presentReading","Present reading is invalid."),t.previousReading||n.set("previousReading","Previous reading is invalid."),t.multiplier||n.set("multiplier","Multiplier is invalid."),t.killoWattHourUsed||n.set("killoWattHourUsed","kWH Used is invalid."),t.reader||n.set("reader","Reader is required."),e.isDirty=!0,e.validations=n,0==n.size}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e).formIsValid,t.next=4,n.getLookups();case 4:case"end":return t.stop()}}),t)})))()},methods:{getValidClass:function(e){return this.isDirty?this.validations.has(e)?"is-invalid":"is-valid":""},getLookups:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.prev=1,t.next=4,n.$util.axios.get("/api/account/lookup").then((function(e){n.lookups.accounts=e.data}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n.$util.handleError(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},getRead:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t,n.prev=1,n.next=4,r.$util.axios.get("/api/reader/get-read/".concat(e)).then((function(e){var t=e.data;r.read.meterReadings=t.meterReadings,r.read.previousRead=t.previousRead>0?t.previousRead:0,r.item.previousReading=r.read.previousRead}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),r.$util.handleError(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},save:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e).busy){t.next=3;break}return t.abrupt("return");case 3:if(n.formIsValid){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,n.busy=!0,r=n.$util.clone(n.item),t.next=10,n.$util.axios.post("/api/billing/add-billing/",r).then((function(e){var t="".concat(n.urlView,"/").concat(e.data);n.$toast.success("Add New Billing",'Billing was created.\n                                <br/>Click <a href="'.concat(t,'">here</a> to view the record.'),{onClose:function(){return(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.close();case 1:case"end":return e.stop()}}),e)})))()}})}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),n.$util.handleError(t.t0);case 15:return t.prev=15,n.busy=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[5,12,15,18]])})))()}}},Un=(0,h.Z)(Vn,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",yt,[_t,(0,r._)("div",kt,[(0,r._)("div",xt,[(0,r._)("button",{disabled:i.isDirty&&!s.formIsValid,onClick:t[0]||(t[0]=function(){return s.save&&s.save.apply(s,arguments)}),class:"btn btn-primary"},Dt,8,Rt),(0,r._)("button",{onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)}),class:"ms-1 btn btn-secondary"},St)])])]),(0,r._)("div",qt,[(0,r._)("div",It,[Zt,(0,r._)("div",Vt,[(0,r._)("form",Ut,[(0,r._)("div",zt,[(0,r._)("div",Ct,[(0,r._)("div",At,[(0,r.wy)((0,r._)("select",{onChange:t[2]||(t[2]=function(e){return s.getRead(i.item.accountId)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.item.accountId=e}),class:"form-select",id:"accountId"},[Mt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.lookups.accounts,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.accountId},(0,r.zw)(e.name),9,$t)})),256))],544),[[r.bM,i.item.accountId]]),Nt,i.validations.has("accountId")?((0,r.wg)(),(0,r.iD)("div",Et,(0,r.zw)(i.validations.get("accountId")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Bt,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.item.amount=e}),type:"number",min:"0",max:"99999",class:"form-control",id:"amount",placeholder:"Amount"},null,512),[[r.nr,i.item.amount]]),jt,i.validations.has("amount")?((0,r.wg)(),(0,r.iD)("div",Ft,(0,r.zw)(i.validations.get("amount")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Pt,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.item.number=e}),type:"text",class:"form-control",id:"number",placeholder:"Billing Number"},null,512),[[r.nr,i.item.number]]),Ot,i.validations.has("number")?((0,r.wg)(),(0,r.iD)("div",Tt,(0,r.zw)(i.validations.get("number")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Yt,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.item.year=e}),class:"form-select",id:"year"},Ht,512),[[r.bM,i.item.year]]),Wt,i.validations.has("year")?((0,r.wg)(),(0,r.iD)("div",Lt,(0,r.zw)(i.validations.get("year")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Jt,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return i.item.month=e}),class:"form-select",id:"month"},Kt,512),[[r.bM,i.item.month]]),Qt,i.validations.has("month")?((0,r.wg)(),(0,r.iD)("div",Gt,(0,r.zw)(i.validations.get("month")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Xt,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return i.item.readingDate=e}),type:"date",class:"form-control",id:"readingDate",placeholder:"Reading Date"},null,512),[[r.nr,i.item.readingDate]]),en,i.validations.has("readingDate")?((0,r.wg)(),(0,r.iD)("div",tn,(0,r.zw)(i.validations.get("readingDate")),1)):(0,r.kq)("",!0)]),(0,r._)("div",nn,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return i.item.dateDue=e}),type:"date",class:"form-control",id:"dateDue",placeholder:"Due Date"},null,512),[[r.nr,i.item.dateDue]]),rn,i.validations.has("dateDue")?((0,r.wg)(),(0,r.iD)("div",an,(0,r.zw)(i.validations.get("dateDue")),1)):(0,r.kq)("",!0)])]),(0,r._)("div",sn,[(0,r._)("div",on,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return i.item.dateStart=e}),type:"date",class:"form-control",id:"dateStart",placeholder:"Billing Start"},null,512),[[r.nr,i.item.dateStart]]),ln,i.validations.has("dateStart")?((0,r.wg)(),(0,r.iD)("div",cn,(0,r.zw)(i.validations.get("dateStart")),1)):(0,r.kq)("",!0)]),(0,r._)("div",un,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return i.item.dateEnd=e}),type:"date",class:"form-control",id:"dateEnd",placeholder:"Billing End"},null,512),[[r.nr,i.item.dateEnd]]),dn,i.validations.has("dateEnd")?((0,r.wg)(),(0,r.iD)("div",mn,(0,r.zw)(i.validations.get("dateEnd")),1)):(0,r.kq)("",!0)]),(0,r._)("div",fn,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return i.item.presentReading=e}),type:"number",min:"0",max:"99999",class:"form-control",id:"presentReading",placeholder:"Present Reading"},null,512),[[r.nr,i.item.presentReading]]),pn,i.validations.has("presentReading")?((0,r.wg)(),(0,r.iD)("div",vn,(0,r.zw)(i.validations.get("presentReading")),1)):(0,r.kq)("",!0),(0,r._)("div",null,[(0,r._)("select",{onChange:t[13]||(t[13]=function(e){return i.item.presentReading=e.target.value}),class:"form-control form-control-sm"},[gn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.read.meterReadings,(function(t){return(0,r.wg)(),(0,r.iD)("option",{value:t.value},(0,r.zw)(t.value)+"kWH ("+(0,r.zw)(e.$moment(t.dateRead).calendar())+")",9,bn)})),256))],32)])]),(0,r._)("div",hn,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[14]||(t[14]=function(e){return i.item.previousReading=e}),type:"number",min:"0",max:"99999",class:"form-control",id:"previousReading",placeholder:"Previous Reading"},null,512),[[r.nr,i.item.previousReading]]),wn,i.validations.has("previousReading")?((0,r.wg)(),(0,r.iD)("div",yn,(0,r.zw)(i.validations.get("previousReading")),1)):(0,r.kq)("",!0)]),(0,r._)("div",_n,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[15]||(t[15]=function(e){return i.item.multiplier=e}),type:"number",min:"0",max:"99999",class:"form-control",id:"multiplier",placeholder:"Multiplier"},null,512),[[r.nr,i.item.multiplier]]),kn,i.validations.has("multiplier")?((0,r.wg)(),(0,r.iD)("div",xn,(0,r.zw)(i.validations.get("multiplier")),1)):(0,r.kq)("",!0)]),(0,r._)("div",Rn,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[16]||(t[16]=function(e){return i.item.killoWattHourUsed=e}),type:"number",min:"0",max:"99999",class:"form-control",id:"killoWattHourUsed",placeholder:"kWH Used"},null,512),[[r.nr,i.item.killoWattHourUsed]]),Dn,i.validations.has("killoWattHourUsed")?((0,r.wg)(),(0,r.iD)("div",Sn,(0,r.zw)(i.validations.get("killoWattHourUsed")),1)):(0,r.kq)("",!0)]),(0,r._)("div",qn,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[17]||(t[17]=function(e){return i.item.reader=e}),type:"text",class:"form-control",id:"reader",placeholder:"Meter Read By"},null,512),[[r.nr,i.item.reader]]),In,i.validations.has("reader")?((0,r.wg)(),(0,r.iD)("div",Zn,(0,r.zw)(i.validations.get("reader")),1)):(0,r.kq)("",!0)])])])])])])])])}]]);var zn={class:"row align-items-center"},Cn=(0,r._)("div",{class:"col-sm"},[(0,r._)("h1",{class:"h3 mb-sm-0"},[(0,r._)("i",{class:"fas fa-fw fa-money-bill me-1"}),(0,r.Uk)("Billings ")])],-1),An={class:"col-sm-auto"},Mn={class:"d-flex flex-row"},$n=(0,r.uE)('<div class=""><a href="/administrator/billings/upload" class="btn btn-primary"><i class="fas fa-upload me-1"></i>Upload </a></div><div class=""><a href="/administrator/billings/add" class="btn btn-primary ms-1"><i class="fas fa-plus me-1"></i>Add </a></div>',2),Nn={class:"flex-grow-1 ms-1"},En={class:"input-group"},Bn=[(0,r._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1)],jn={class:"mt-2 table-responsive"},Fn=(0,r._)("th",{class:"text-center"},"#",-1),Pn=(0,r._)("th",null,"Billing Number",-1),On=(0,r._)("th",null,"Account",-1),Tn=(0,r._)("th",null,"Status",-1),Yn=(0,r._)("th",null,"Due Date",-1),Hn=(0,r._)("th",null,"Amount",-1),Wn=["textContent"],Ln=["href"],Jn={class:"row mb-3"},Kn=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Billing Number",-1),Qn={class:"col-sm-10"},Gn={class:"form-control-plaintext"},Xn=["href"],er={class:"row mb-3"},tr=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Account",-1),nr={class:"col-sm-10"},rr={class:"form-control-plaintext"},ar={class:"row mb-3"},ir=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Status",-1),sr={class:"col-sm-10"},or={class:"form-control-plaintext"},lr={class:"row mb-3"},cr=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Due Date",-1),ur={class:"col-sm-10"},dr={class:"form-control-plaintext"},mr={class:"row mb-3"},fr=(0,r._)("label",{for:"subject",class:"col-sm-2 col-form-label"},"Amount",-1),pr={class:"col-sm-10"},vr={class:"form-control-plaintext"};const gr={mixins:[pt.Z],props:{uid:String,urlAdd:String,urlView:String},components:{},data:function(){return{baseUrl:"/api/billing",lookups:{taskStatuses:[{id:0,name:"All"},{id:1,name:"Todo"},{id:2,name:"In Progress"},{id:3,name:"Done"}],taskTypes:[{id:0,name:"All"},{id:1,name:"Follow-Up Email"},{id:2,name:"Phone Call"},{id:3,name:"Demo"},{id:4,name:"Lunch Meeting"},{id:5,name:"Meetup"},{id:6,name:"Others"}]},filter:{items:[],cacheKey:"filter-".concat(this.uid,"/billings"),query:{}}}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=e).filter,new URLSearchParams(window.location.search),a=JSON.parse(localStorage.getItem(r.cacheKey))||{},n.initializeFilter(a),t.next=7,n.search();case 7:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{getQuery:function(){var e=this.filter;if(!this.busy)return["?c=",encodeURIComponent(e.query.criteria),"&p=",e.query.pageIndex,"&s=",e.query.pageSize,"&sf=",e.query.sortField,"&so=",e.query.sortOrder].join("")},saveQuery:function(){var e=this.filter;localStorage.setItem(e.cacheKey,JSON.stringify({criteria:e.query.criteria,pageIndex:e.query.pageIndex,pageSize:e.query.pageSize,sortField:e.query.sortField,sortOrder:e.query.sortOrder,visible:e.visible}))},getTaskTdCss:function(e){switch(e.taskStatus){case 1:return"table-warning";case 2:return"table-info";case 3:return"table-success";default:return""}}}},br=(0,h.Z)(gr,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("table-list"),l=(0,r.up)("m-pagination");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",zn,[Cn,(0,r._)("div",An,[(0,r._)("div",Mn,[$n,(0,r._)("div",Nn,[(0,r._)("div",En,[(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:"Enter criteria...","aria-label":"Enter criteria...","aria-describedby":"button-addon2","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.filter.query.criteria=e}),onKeyup:t[1]||(t[1]=(0,r.D2)((function(t){return e.search(1)}),["enter"]))},null,544),[[r.nr,i.filter.query.criteria]]),(0,r._)("button",{class:"btn btn-primary",type:"button",id:"button-addon2",onClick:t[2]||(t[2]=function(t){return e.search(1)})},Bn)])])])])]),(0,r._)("div",jn,[(0,r.Wm)(o,{header:{key:"billingId",columns:[]},items:i.filter.items,getRowNumber:e.getRowNumber,setSelected:e.setSelected,isSelected:e.isSelected,"table-css":""},{header:(0,r.w5)((function(){return[Fn,Pn,On,Tn,Yn,Hn]})),"table-row":(0,r.w5)((function(t){return[(0,r._)("td",{textContent:(0,r.zw)(e.getRowNumber(t.index)),class:"text-center"},null,8,Wn),(0,r._)("td",null,[(0,r._)("a",{href:"/administrator/billings/view/".concat(t.item.billingId)},(0,r.zw)(t.item.number),9,Ln)]),(0,r._)("td",null,[(0,r._)("div",null,[(0,r.Uk)((0,r.zw)(t.item.accountNumber)+" ",1),(0,r._)("sub",null,(0,r.zw)(t.item.accountName),1)])]),(0,r._)("td",null,(0,r.zw)(t.item.statusText),1),(0,r._)("td",null,(0,r.zw)(e.$moment(t.item.dateDue).format("YYYY-MM-DD hh:mm:ss")),1),(0,r._)("td",null,(0,r.zw)(t.item.amount),1)]})),"table-list":(0,r.w5)((function(t){return[(0,r._)("div",null,[(0,r._)("div",Jn,[Kn,(0,r._)("div",Qn,[(0,r._)("div",Gn,[(0,r._)("a",{href:"/administrator/billings/view/".concat(t.item.billingId)},(0,r.zw)(t.item.number),9,Xn)])])]),(0,r._)("div",er,[tr,(0,r._)("div",nr,[(0,r._)("div",rr,[(0,r._)("div",null,[(0,r.Uk)((0,r.zw)(t.item.accountNumber)+" ",1),(0,r._)("sub",null,(0,r.zw)(t.item.accountName),1)])])])]),(0,r._)("div",ar,[ir,(0,r._)("div",sr,[(0,r._)("div",or,(0,r.zw)(t.item.statusText),1)])]),(0,r._)("div",lr,[cr,(0,r._)("div",ur,[(0,r._)("div",dr,(0,r.zw)(e.$moment(t.item.dateDue).format("YYYY-MM-DD hh:mm:ss")),1)])]),(0,r._)("div",mr,[fr,(0,r._)("div",pr,[(0,r._)("div",vr,(0,r.zw)(t.item.amount),1)])])])]})),_:1},8,["items","getRowNumber","setSelected","isSelected"])]),(0,r.Wm)(l,{filter:i.filter,search:e.search,showPerPage:!0,class:"mt-2"},null,8,["filter","search"])])}]]);var hr={class:"row align-items-center"},wr=(0,r._)("div",{class:"col-sm"},[(0,r._)("h1",{class:"h3 mb-sm-0"},[(0,r._)("i",{class:"fas fa-fw fa-money-bill me-1"}),(0,r.Uk)("Upload Billings ")])],-1),yr={class:"col-sm-auto"},_r={class:"d-flex flex-row"},kr=(0,r._)("a",{href:"/staticfiles/billing-upload-template-with-sample.txt",target:"_top",class:"btn btn-primary"},[(0,r._)("span",{class:"fas fa-fw fa-file-download"}),(0,r.Uk)("Template ")],-1),xr=(0,r._)("a",{href:"/staticfiles/billing-upload-template.txt",class:"btn btn-primary ms-1"},[(0,r._)("span",{class:"fas fa-fw fa-file-download"}),(0,r.Uk)("Template with Sample ")],-1),Rr=["disabled"],Dr=[(0,r._)("span",{class:"fas fa-fw fa-save"},null,-1)],Sr=[(0,r._)("i",{class:"fas fa-fw fa-times"},null,-1)],qr={class:"mt-5"};n(51301),n(76453),n(6429),n(95680),n(55090);const Ir={mixins:[fe.Z],props:{uid:{type:String,required:!0},urlView:{type:String,required:!0}},data:function(){return{isDirty:!1,validations:new Map,imageFiles:null,imageFileUrls:null}},computed:{formIsValid:function(){var e=this,t=(e.item,new Map);return e.name||t.set("name","Document name is required."),e.imageFilesValid||t.set("imageFiles","Document file is required."),e.isDirty=!0,e.validations=t,0==t.size},imageFilesValid:function(){var e=this;return Array.isArray(e.imageFiles)?e.imageFiles.length>0:null!=e.imageFiles}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{onImageFileChange:function(e){var t=this,n=[];n=Array.isArray(e.currentTarget.files)?e.currentTarget.files:[e.currentTarget.files[0]],t.imageFileUrls=[];for(var r=0;r<n.length;r++){var a=n[r];a&&t.imageFileUrls.push(URL.createObjectURL(a))}t.imageFiles=n},clearImageFile:function(e){var t=this;Array.isArray(t.imageFiles)?(t.imageFiles.splice(e,1),t.imageFileUrls.splice(e,1)):(t.imageFiles=null,t.imageFileUrls=null)},save:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e).busy){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,n.busy=!0,r=new FormData,Array.isArray(n.imageFiles)?n.imageFiles.forEach((function(e){r.append("files",e)})):r.append("files",n.imageFiles),t.next=9,n.$util.axios.post("/api/billing/bulk-upload/",r).then((function(e){alert("Billings uploaded successfully")}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),n.$util.handleError(t.t0);case 14:return t.prev=14,n.busy=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})))()}}},Zr=(0,h.Z)(Ir,[["render",function(e,t,n,a,i,s){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",hr,[wr,(0,r._)("div",yr,[(0,r._)("div",_r,[kr,xr,(0,r._)("button",{disabled:i.isDirty&&!s.formIsValid,onClick:t[0]||(t[0]=function(){return s.save&&s.save.apply(s,arguments)}),class:"btn btn-primary ms-2"},Dr,8,Rr),(0,r._)("button",{onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)}),class:"ms-1 btn btn-secondary"},Sr)])])]),(0,r._)("div",qr,[(0,r._)("input",{type:"file",id:"fileInput",onChange:t[2]||(t[2]=function(){return s.onImageFileChange&&s.onImageFileChange.apply(s,arguments)}),accept:"image",placeholder:"Upload Billings"},null,32)])])}]]);var Vr=n(17956);const Ur={props:{uid:{type:String,required:!0},id:{type:String,required:!0},roleId:{type:String,required:!0}},components:{billingsView:Vr.Z},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},zr=(0,h.Z)(Ur,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("billings-view");return(0,r.wg)(),(0,r.j4)(o,{uid:n.uid,id:n.id,roleId:n.roleId},null,8,["uid","id","roleId"])}]]);var Cr=n(81651);const Ar={props:{uid:{type:String,required:!0},urlView:{type:String,required:!0}},components:{notificationsIndex:Cr.Z},data:function(){return{}},computed:{},created:function(){return(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},Mr=(0,h.Z)(Ar,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("notifications-index");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(o,{uid:n.uid,urlView:n.urlView},null,8,["uid","urlView"])])}]]);var $r=n(3345);const Nr={props:{uid:{type:String,required:!0},id:{type:String,required:!0},roleId:{type:String,required:!0},urlViewAnnouncement:{type:String,required:!0},urlViewBilling:{type:String,required:!0},urlViewReservation:{type:String,required:!0}},components:{notificationsView:$r.Z},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},Er=(0,h.Z)(Nr,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("notifications-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(o,{uid:n.uid,id:n.id,roleId:n.roleId,urlViewAnnouncement:n.urlViewAnnouncement,urlViewBilling:n.urlViewBilling,urlViewReservation:n.urlViewReservation},null,8,["uid","id","roleId","urlViewAnnouncement","urlViewBilling","urlViewReservation"])])}]]);var Br=n(69392);const jr={props:{uid:{type:String,required:!0},roleId:{type:String,required:!0},urlView:{type:String,required:!0}},components:{reservationsIndex:Br.Z},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},Fr=(0,h.Z)(jr,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("reservations-index");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(o,{uid:n.uid,urlView:n.urlView,roleId:n.roleId},null,8,["uid","urlView","roleId"])])}]]);var Pr=n(58671);const Or={props:{uid:{type:String,required:!0},id:{type:String,required:!0},roleId:{type:String,required:!0}},components:{reservationsView:Pr.Z},data:function(){return{}},computed:{},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e;case 1:case"end":return t.stop()}}),t)})))()},methods:{}},Tr={template:"#app",mixins:[s],components:{AppBar:w,Index:ve,AnnouncementsAdd:je,AnnouncementsEdit:Pe,AnnouncementsIndex:gt,AnnouncementsView:wt,BillingsAdd:Un,BillingsIndex:br,BillingsUpload:Zr,BillingsView:zr,NotificationsIndex:Mr,NotificationsView:Er,ReservationsIndex:Fr,ReservationsView:(0,h.Z)(Or,[["render",function(e,t,n,a,i,s){var o=(0,r.up)("reservations-view");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(o,{uid:n.uid,id:n.id,roleId:n.roleId},null,8,["uid","id","roleId"])])}]])},props:{appName:String,urlProfilePicture:String},data:function(){return{menus:[{to:"/",label:"Home",icon:"fas fa-fw fa-home"},{to:"/contacts",label:"Contacts",icon:"fas fa-fw fa-id-card"},{to:"/tasks",label:"Tasks",icon:"fas fa-fw fa-tasks"},{to:"/documents",label:"Documents",icon:"fas fa-fw fa-archive"}]}},mounted:function(){return(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},created:function(){return(0,a.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{}};var Yr=n(20561),Hr=n(81312),Wr=n(99970),Lr=n(61286),Jr=n(5493),Kr=n(52367),Qr=(0,r.ri)(Tr);Qr.use(Yr.Z),Qr.use(Hr.Z),Qr.component("Notification",Wr.Z),Qr.component("m-pagination",Lr.Z),Qr.component("sort-field",Jr.Z),Qr.component("table-list",Kr.Z),Qr.mount("#root")}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,a,i)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,a,i]=e[u],o=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(o=!1,i<s&&(s=i));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={434:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,i,[s,o,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(l)var u=l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[881,846,953,257],(()=>r(96776)));a=r.O(a)})();